<div
  class="bg-slate-100 dark:bg-gray-900 overflow-x-hidden w-screen h-screen antialiased 
         text-slate-800 dark:text-slate-100"
>
  <div class="flex relative w-screen h-screen">
    
    <div
      id="menu"
      [class]="{'translate-x-0': showSidebar(), 'translate-x-full': !showSidebar()}"
      class="w-[220px] bg-gray-900 z-50 text-slate-300 h-screen overflow-y-scroll 
             fixed right-0 md:relative md:block md:translate-x-0 
             transition-transform duration-300"
    >
      <app-side-menu (openModal)="openWelcomeModal()"></app-side-menu>
    </div>
    
    <main class="flex-1 px-4 flex flex-col w-full h-full overflow-y-auto">
      <div class="md:hidden flex justify-end p-4 sticky top-0 
                 bg-slate-100 dark:bg-gray-900 z-40 shadow-sm">
        <button (click)="toggleSidebar()" class="text-gray-800 dark:text-slate-100 focus:outline-none">
          <i class="fa-solid fa-bars text-2xl"></i>
        </button>
      </div>
      
      <router-outlet></router-outlet>
    </main>
    
    @if (showSidebar()) {
        <div 
            (click)="toggleSidebar()" 
            class="fixed inset-0 bg-black opacity-50 z-40 md:hidden"
        ></div>
    }
  </div>
</div>

<!-- MODAL DE BIENVENIDA COMPLETO -->
@if (showWelcomeModal()) {
  <div 
    class="fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm"
    (click)="closeWelcomeModal()"
  >
    <div 
      class="bg-gradient-to-br from-slate-800 via-slate-900 to-gray-900 rounded-2xl shadow-2xl max-w-2xl w-full p-8 max-h-[90vh] overflow-y-auto transform transition-all animate-fadeIn border border-slate-700"
      (click)="$event.stopPropagation()"
    >
      <!-- Header del Modal -->
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center space-x-4">
          <img 
            [src]="envs.userAvatar" 
            [alt]="envs.userName" 
            class="rounded-full w-20 h-20 border-4 border-blue-500 shadow-lg"
          />
          <div>
            <h2 class="text-3xl font-bold text-white mb-1">¬°Hola, {{envs.userName}}! </h2>
            <p class="text-slate-400 text-sm">Bienvenido a {{envs.appName}}{{envs.appNumber}}</p>
          </div>
        </div>
        <button 
          (click)="closeWelcomeModal()"
          class="text-slate-400 hover:text-white transition-colors hover:rotate-90 duration-300"
          aria-label="Cerrar modal"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- GIF de Snoopy -->
      <div class="mb-6 rounded-xl overflow-hidden shadow-lg">
        <img 
          src="https://media0.giphy.com/media/3o7TKWjzxzCkWx240M/giphy.gif?cid=5edbc3682292wet1jd6ps9ja5kzouv72u3k6dskxc8lvuqet&ep=v1_gifs_search&rid=giphy.gif&ct=g" 
          alt="Snoopy dancing"
          class="w-full h-48 object-cover"
        />
      </div>

      <!-- Descripci√≥n Principal -->
      <div class="bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 mb-6 border border-blue-500/30">
        <h3 class="text-2xl font-bold text-blue-400 mb-3 flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          ¬øQu√© es {{envs.appName}}{{envs.appNumber}}?
        </h3>
        <p class="text-slate-300 text-base leading-relaxed mb-4">
          {{envs.appName}}{{envs.appNumber}} es tu <span class="text-blue-400 font-semibold">plataforma definitiva</span> para 
          descubrir, buscar y compartir los mejores GIFs de internet. Impulsado por la 
          <span class="text-purple-400 font-semibold">API oficial de Giphy</span>, te brindamos acceso instant√°neo a 
          <span class="text-green-400 font-semibold">millones de GIFs animados</span> para expresar cualquier emoci√≥n, 
          desde la alegr√≠a m√°s desbordante hasta el meme m√°s √©pico del momento.
        </p>
        <p class="text-slate-400 text-sm italic">
          "Porque una imagen vale m√°s que mil palabras, ¬°pero un GIF vale m√°s que mil im√°genes!" 
        </p>
      </div>

      <!-- Features -->
      <div class="space-y-4 mb-6">
        <h4 class="text-lg font-bold text-white mb-4"> Caracter√≠sticas Destacadas:</h4>
        
        <!-- Feature 1: B√∫squeda -->
        <div class="flex items-start space-x-4 bg-slate-800/50 rounded-lg p-4 hover:bg-slate-800 transition-colors">
          <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-full p-3 mt-1 flex-shrink-0 shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>
          <div>
            <h5 class="text-white font-bold text-lg mb-1">B√∫squeda Potente üîç</h5>
            <p class="text-slate-400 text-sm">
              Encuentra el GIF perfecto con nuestro buscador inteligente. Escribe cualquier palabra y descubre 
              miles de resultados instant√°neos organizados para ti.
            </p>
          </div>
        </div>

        <!-- Feature 2: Tendencias -->
        <div class="flex items-start space-x-4 bg-slate-800/50 rounded-lg p-4 hover:bg-slate-800 transition-colors">
          <div class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-full p-3 mt-1 flex-shrink-0 shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
          </div>
          <div>
            <h5 class="text-white font-bold text-lg mb-1">Tendencias </h5>
            <p class="text-slate-400 text-sm">
              Descubre los GIFs m√°s populares y virales del momento. Mantente actualizado con lo que est√° de moda 
              en internet y no te pierdas ning√∫n meme trending.
            </p>
          </div>
        </div>

        <!-- Feature 3: Categor√≠as -->
        <div class="flex items-start space-x-4 bg-slate-800/50 rounded-lg p-4 hover:bg-slate-800 transition-colors">
          <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-full p-3 mt-1 flex-shrink-0 shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
            </svg>
          </div>
          <div>
            <h5 class="text-white font-bold text-lg mb-1">Categor√≠as Infinitas </h5>
            <p class="text-slate-400 text-sm">
              Explora GIFs organizados por categor√≠as: Animales, Reacciones, Deportes, Celebridades, Anime y mucho m√°s. 
              ¬°Todo perfectamente clasificado!
            </p>
          </div>
        </div>

        <!-- Feature 4: Historial -->
        <div class="flex items-start space-x-4 bg-slate-800/50 rounded-lg p-4 hover:bg-slate-800 transition-colors">
          <div class="bg-gradient-to-br from-orange-500 to-orange-600 rounded-full p-3 mt-1 flex-shrink-0 shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <h5 class="text-white font-bold text-lg mb-1">Historial de B√∫squedas </h5>
            <p class="text-slate-400 text-sm">
              Accede r√°pidamente a tus b√∫squedas recientes y encuentra de nuevo ese GIF que tanto te gust√≥. 
              Nunca pierdas de vista tus favoritos.
            </p>
          </div>
        </div>
      </div>

      <!-- Footer del Modal -->
      <div class="mt-8 pt-6 border-t border-slate-700">
        <p class="text-center text-blue-400 text-base font-semibold mb-3">
          {{envs.companySlogan}} 
        </p>
        <p class="text-center text-slate-500 text-sm mb-6">
        </p>
        <button 
          (click)="closeWelcomeModal()"
          class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-6 rounded-xl transition-all transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
          </svg>
          <span>¬°Empezar a explorar ahora!</span>
        </button>
      </div>
    </div>
  </div>
}
